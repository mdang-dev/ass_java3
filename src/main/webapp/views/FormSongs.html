<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <title>Document</title>
        <link href="../assets/css/output.css" rel="stylesheet">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
            integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous">
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    </head>
    <body>
        <div class="all">
            <header
                class="w-full h-16 bg-slate-500 flex justify-start items-center px-5">
                <h3 class="text-2xl font-medium">
                    Master Admin
                </h3>
            </header>

            <main class="flex">
                <div
                    class="w-52 h-[90.8vh] bg-slate-900">
                    <ul
                        class="grid justify-center place-items-start gap-y-5 pt-10">

                        <li
                            class="w-max flex justify-center mr-10 items-center gap-1">
                            <i
                                class="fas fa-caret-right text-[#bebebe]"></i>
                            <a href="#"
                                class="menu-item-admin">
                                <div class="dropdown">
                                    <a
                                        class="btn btn-secondary dropdown-toggle"
                                        href="#" role="button"
                                        data-bs-toggle="dropdown"
                                        aria-expanded="false"
                                        style="font-size: 12px; font-weight: 600; background-color: transparent; width: 170px;">
                                        QUẢN LÝ NGƯỜI DÙNG
                                    </a>

                                    <ul class="dropdown-menu w-14">
                                        <li><a class="dropdown-item"
                                                href="#">Thêm Mới</a></li>
                                        <li><a class="dropdown-item"
                                                href="#">Danh Sách</a></li>
                                    </ul>
                                </div></a>
                        </li>

                        <li
                            class="w-max flex justify-center mr-10 items-center gap-1">
                            <i
                                class="fas fa-caret-right text-[#bebebe]"></i>
                            <a href="#"
                                class="menu-item-admin">
                                <div class="dropdown">
                                    <a
                                        class="btn btn-secondary dropdown-toggle"
                                        href="#" role="button"
                                        data-bs-toggle="dropdown"
                                        aria-expanded="false"
                                        style="font-size: 12px; font-weight: 600; background-color: transparent; width: 170px;">
                                        QUẢN LÝ BÀI HÁT
                                    </a>

                                    <ul class="dropdown-menu w-14">
                                        <li><a class="dropdown-item"
                                                href="#">Thêm Mới</a></li>
                                        <li><a class="dropdown-item"
                                                href="#">Danh Sách</a></li>
                                    </ul>
                                </div></a>
                        </li>

                        <li
                            class="w-max flex justify-center mr-10 items-center gap-1">
                            <i
                                class="fas fa-caret-right text-[#bebebe]"></i>
                            <a href="#"
                                class="menu-item-admin">
                                <div class="dropdown">
                                    <a
                                        class="btn btn-secondary dropdown-toggle"
                                        href="#" role="button"
                                        data-bs-toggle="dropdown"
                                        aria-expanded="false"
                                        style="font-size: 12px; font-weight: 600; background-color: transparent; width: 170px;">
                                        QUẢN LÝ NGHỆ SĨ
                                    </a>

                                    <ul class="dropdown-menu w-14">
                                        <li><a class="dropdown-item"
                                                href="#">Thêm Mới</a></li>
                                        <li><a class="dropdown-item"
                                                href="#">Danh Sách</a></li>
                                    </ul>
                                </div></a>
                        </li>

                        <li
                            class="w-max flex justify-center mr-10 items-center gap-1">
                            <i
                                class="fas fa-caret-right text-[#bebebe]"></i>
                            <a href="#"
                                class="menu-item-admin">
                                <div class="dropdown">
                                    <a
                                        class="btn btn-secondary"
                                        href="#" role="button"
                                        data-bs-toggle="dropdown"
                                        aria-expanded="false"
                                        style="font-size: 12px; font-weight: 600; background-color: transparent; width: 170px;">
                                        THỐNG KÊ
                                    </a>

                                </div></a>
                        </li>

                    </ul>
                </div>

                <div class="container">
                    <div class="card-body mt-2">
                        <form action>

                            <div class="mb-3 row g-3">
                                <div class="col-sm-10">
                                    <label for="exampleFormControlInput1"
                                        class="form-label">Tên Bài
                                        Hát</label>
                                    <input type="email"
                                        class="form-control"
                                        id="exampleFormControlInput1"
                                        placeholder="Tên bài hát">
                                </div>
                                <div class="col-sm mt-3">
                                    <label for="exampleFormControlInput3"
                                        class="form-label">Mã Bài Hát</label>
                                    <input type="text" class="form-control"
                                        disabled
                                        aria-label="State"
                                        id="exampleFormControlInput3">
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group flex-nowrap">
                                    <span class="input-group-text"
                                        id="addon-wrapping"><i
                                            class="fas fa-search"></i></span>
                                    <input type="text"
                                        class="form-control"
                                        placeholder="Tìm kiếm nghệ sĩ"
                                        aria-label="Username"
                                        aria-describedby="addon-wrapping">
                                </div>

                            </div>
                            <select class="form-select mb-3" multiple
                                aria-label="Multiple select example"
                                id="multiSelect">
                                <option value="0">Sơn Tùng
                                    MTP</option>
                                <option value="1">Đen Vâu</option>
                                <option value="2">MCK</option>
                            </select>

                            <div
                                class="card mt-3 mb-3">
                                <div class="card-header">
                                    Nghệ Sĩ
                                </div>
                                <div
                                    class="card-body flex flex-wrap min-h-9 max-h-20 overflow-y-auto"
                                    id="resultCards">

                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="exampleFormControlInput1"
                                    class="form-label">Ảnh Bìa</label>
                                <input type="file" class="form-control"
                                    accept="image/*"
                                    id="exampleFormControlInput1"
                                    placeholder="Ảnh Bìa">
                            </div>

                            <div class="row g-3">
                                <div class="col-sm-10">
                                    <label for="choosenFile"
                                        class="form-label">File Âm
                                        Thanh</label>
                                    <input type="file" class="form-control"
                                        placeholder="Chọn File Âm Thanh"
                                        accept="audio/*"
                                        id="choosenFile">
                                </div>
                                <div class="col-sm mt-3">
                                    <label for="innerDuration"
                                        class="form-label">Thời
                                        Lượng</label>
                                    <input type="text" class="form-control"
                                        placeholder="00:00"
                                        disabled
                                        id="innerDuration">
                                </div>
                            </div>

                            <div class="mt-3">
                                <button type="submit"
                                    class="btn btn-primary">Xác
                                    Nhận</button>
                            </div>

                        </form>

                    </div>
                </div>

                <div>

                </div>
            </main>
        </div>
        <script>
      let selectedResults = [];

document.getElementById('multiSelect').addEventListener('change', function() {

  const selectElement = document.getElementById('multiSelect');
  const selectedOption = selectElement.options[selectElement.selectedIndex].text;
  if (!selectedResults.includes(selectedOption)) {
    selectedResults.push(selectedOption);
  }
  displaySelectedOptions();

});

function displaySelectedOptions() {

  const resultContainer = document.getElementById('resultCards');
  resultContainer.innerHTML = ''; 

  selectedResults.forEach(optionText => {
    const card = document.createElement('div');
    card.className = 'card col-md-2 p2 m-1 flex justify-center items-center font-medium';
    card.style.height = '40px';
    card.style.width = 'max-content';
    
    const cardBody = document.createElement('div');
    cardBody.className = 'card-body flex justify-center items-center gap-2 mt-[5px]';
    
    const cardTitle = document.createElement('span');
    cardTitle.className = 'card-title';
    cardTitle.innerText = optionText;
    
    const deleteButton = document.createElement('button');
    deleteButton.className = 'w-[25px] h-[25px] bg-[red] flex justify-center items-center text-white rounded-md mb-[5px]';
    deleteButton.innerHTML = '<i class="fas fa-times"></i>';
    deleteButton.onclick = function() {
      removeOption(optionText);
    };

    cardBody.appendChild(cardTitle);
    cardBody.appendChild(deleteButton);
    card.appendChild(cardBody);
    resultContainer.appendChild(card);

  });
}

function removeOption(optionText) {

  selectedResults = selectedResults.filter(option => option !== optionText);
  displaySelectedOptions();

}

document.getElementById('choosenFile').addEventListener('change', function(e){
    const file = this.files[0];
    
    const duration = document.getElementById('innerDuration');
    duration.value = '';
    if(file) {
        const audio = document.createElement('audio');
        const fileReader = new FileReader();
        fileReader.onload = function(e) {
            audio.src = e.target.result;
    
            audio.addEventListener('loadedmetadata', () => {
            const durationAudio = audio.duration;
            
            let formatDuration = (duration) => {
                return String(Math.floor(duration)).padStart(2, '0');
            };

            const minutes = formatDuration(durationAudio / 60);
            const seconds = formatDuration(durationAudio % 60);
            duration.value = `${minutes}:${seconds}`;
        });
    };
    fileReader.readAsDataURL(file);  
        
}

});

        </script>
    </body>
</html>